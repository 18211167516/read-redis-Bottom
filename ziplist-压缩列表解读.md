## 前言：redis 数据结构ziplist解读
1. zpilist结构定义：
```
typedef struct ziplist{
    zibytes uint32_t;//所用内存字节数
    zltail  uint32_t;//列表表尾节点距离压缩列表起始地址字节偏移量（程序无须遍历整个压缩列表就可以确定表尾节点的地址）
    zllen   uint16_t;//记录了压缩列表包含的节点数量，当这个属性的值小于65535，这个属性的值就是压缩列表包含节点的数量，当这个值大于65535时，节点需要遍历
    entryX  ;//列表节点不定
    zlend   uint8_t;//特殊值，标记压缩列表的末端
}
```
2. zpilistNode结构定义
```
tyoedef struct ziplistNode{
    previous_entry_length //前一节点的长度，如果小于254字节，属性的值就为1字节，如果大于254，属性的值为5字节
    encoding //记录了节点content属性说保存数据的类型以及长度
    content //保存节点的值
}
```
3. 连锁更新问题
```
添加或者删除节点额的时候，可能会引发连锁更新的操作，但几率比较小
```
4. 应用
```
列表键和哈希键的底层实现之一，当一个列表键只包含少量的列表项，并且列表项要么就是小整数型，要么是长度较短的字符串，会使用压缩列表来做列表键的底层实现
```
